(function(e){function r(e,t){if(e.val()===""){e.data("placeholder").removeClass(t.hideClass)}else{e.data("placeholder").addClass(t.hideClass)}}function i(e,t){e.data("placeholder").addClass(t.hideClass)}function s(e,t){var n=t.is("textarea");var r=parseFloat(t.css("padding-top"));var i=parseFloat(t.css("padding-left"));var s=t.offset();if(r){s.top+=r}if(i){s.left+=i}e.css({width:t.innerWidth()-(n?20:4),height:t.innerHeight()-6,lineHeight:t.css("line-height"),whiteSpace:n?"normal":"nowrap",overflow:"hidden"}).offset(s)}function o(e,t){var r=e.val();(function s(){n=requestAnimationFrame(s);if(e.val()!==r){i(e,t);a();u(e,t)}})()}function u(e,t){(function i(){n=requestAnimationFrame(i);r(e,t)})()}function a(){cancelAnimationFrame(n)}function f(e){if(t&&window.console&&window.console.log){window.console.log(e)}}var t=false,n;e.fn.placeHolder=function(t){f("init placeHolder");var n=this;var u=e(this).length;this.options=e.extend({className:"placeholder",visibleToScreenreaders:true,visibleToScreenreadersHideClass:"placeholder-hide-except-screenreader",visibleToNoneHideClass:"placeholder-hide",hideOnFocus:false,removeLabelClass:"visuallyhidden",hiddenOverrideClass:"visuallyhidden-with-placeholder",forceHiddenOverride:true,forceApply:false,autoInit:true},t);this.options.hideClass=this.options.visibleToScreenreaders?this.options.visibleToScreenreadersHideClass:this.options.visibleToNoneHideClass;return e(this).each(function(t){function y(){if(!n.options.hideOnFocus&&window.requestAnimationFrame){o(c,n.options)}else{i(c,n.options)}}var c=e(this),h=c.attr("placeholder"),p=c.attr("id"),d,v,m,g;if(h===""||h===undefined){h=c[0].attributes["placeholder"].value}d=c.closest("label");c.removeAttr("placeholder");if(!d.length&&!p){f("the input element with the placeholder needs an id!");return}d=d.length?d:e('label[for="'+p+'"]').first();if(!d.length){f("the input element with the placeholder needs a label!");return}g=e(d).find(".placeholder");if(g.length){s(g,c);g.text(h);return c}if(d.hasClass(n.options.removeLabelClass)){d.removeClass(n.options.removeLabelClass).addClass(n.options.hiddenOverrideClass)}v=e("<span>").addClass(n.options.className).text(h).appendTo(d);m=v.width()>c.width();if(m){v.attr("title",h)}s(v,c);c.data("placeholder",v);v.data("input",c);v.click(function(){e(this).data("input").focus()});c.focusin(y);c.focusout(function(){r(e(this),n.options);if(!n.options.hideOnFocus&&window.cancelAnimationFrame){a()}});r(c,n.options);e(document).bind("fontresize resize",function(){s(v,c)});if(e.event.special.resize){e("textarea").bind("resize",function(){s(v,c)})}else{e("textarea").css("resize","none")}if(t>=u-1&&typeof e.attrHooks!=="undefined"){e.attrHooks.placeholder={get:function(t){if(t.nodeName.toLowerCase()==="input"||t.nodeName.toLowerCase()==="textarea"){if(e(t).data("placeholder")){return e(e(t).data("placeholder")).text()}else{return e(t)[0].placeholder}}else{return undefined}},set:function(t,n){return e(e(t).data("placeholder")).text(n)}}}if(c.is(":focus")){y()}})};e(function(){var t=window.placeHolderConfig||{};if(t.autoInit===false){f("placeholder:abort because autoInit is off");return}if(("placeholder"in e("<input>")[0]||"placeHolder"in e("<input>")[0])&&!t.forceApply){f("placeholder:abort because browser has native support");return}e("input[placeholder], textarea[placeholder]").placeHolder(t)})})(jQuery)